{"version":3,"sources":["cmps/AppError.jsx","cmps/AppLoading.jsx","assets/img/icon-next.svg","cmps/Favorite.jsx","assets/img/icon-previous.svg","cmps/CharacterPreview.jsx","cmps/CharacterList.jsx","cmps/FilmDetails.jsx","cmps/FilmListSort.jsx","cmps/FilmPreview.jsx","cmps/FilmList.jsx","services/http.service.js","services/storage.service.js","services/film.service.js","App.jsx","index.js"],"names":["AppError","error","className","Snackbar","open","autoHideDuration","Alert","severity","sx","width","AppLoading","LinearProgress","color","_path","Favorite","isFavorite","onClick","IconButton","ev","stopPropagation","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgIconNext","_ref","svgRef","title","titleId","props","height","xmlns","ref","id","d","stroke","strokeWidth","fill","fillRule","ForwardRef","SvgIconPrevious","CharacterPreview","character","name","image","src","alt","CharacterList","characters","index","onMove","isStartOfList","isEndOfList","slice","map","FilmDetails","film","onFilmLike","useState","characterIndex","setCharacterIndex","episode_id","director","producer","opening_crawl","useEffect","diff","current","FilmListSort","sort","onSort","SortButton","fieldName","displayName","icon","fontSize","Button","endIcon","FilmPreview","isSelected","onFilmClick","release_date","FilmList","films","selectedFilmId","onSearch","type","placeholder","onChange","httpService","endpoint","data","ajax","url","a","method","axios","params","res","console","dir","response","status","sessionStorage","clear","window","location","storageService","save","localStorage","setItem","JSON","stringify","load","getItem","log","parse","filmService","query","toggleFavorite","filmId","gFilms","filter","regExp","RegExp","sortKey","_getData","test","b","results","_getCharactersData","charactersMap","parseInt","split","reduce","App","selectedIdCache","useMemo","setFilms","setError","setFilter","setSort","setSelectedFilmId","getData","handleSearch","value","replace","handleSort","handleFilmLike","selectedFilm","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87e1851a.chunk.js","sourcesContent":["import { Alert, Snackbar } from '@mui/material';\r\n\r\nexport function AppError({ error }) {\r\n  return (\r\n    <main className=\"app\">\r\n      <Snackbar open={!!error} autoHideDuration={6000}>\r\n        <Alert severity=\"error\" sx={{ width: '100%' }}>\r\n          {error}\r\n        </Alert>\r\n      </Snackbar>\r\n    </main>\r\n  );\r\n}\r\n","import { LinearProgress } from '@mui/material';\r\n\r\nexport function AppLoading() {\r\n  return (\r\n    <main className=\"app\">\r\n      <div className=\"loading-container\">\r\n        <LinearProgress color=\"secondary\" />\r\n        <p>Loading..</p>\r\n        <p>API might be slow sometimes, May the force be with you</p>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconNext(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 13,\n    height: 18,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m2 1 8 8-8 8\",\n    stroke: \"#1D2026\",\n    strokeWidth: 3,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconNext);\nexport default __webpack_public_path__ + \"static/media/icon-next.9621183a.svg\";\nexport { ForwardRef as ReactComponent };","import FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport { IconButton } from '@mui/material';\r\n\r\nexport function Favorite({ isFavorite, onClick }) {\r\n  return (\r\n    <IconButton\r\n      className=\"btn-favorite\"\r\n      onClick={ev => {\r\n        ev.stopPropagation();\r\n        onClick();\r\n      }}>\r\n      {isFavorite ? <FavoriteIcon className=\"icon-favorite-filled\" /> : <FavoriteBorderIcon />}\r\n    </IconButton>\r\n  );\r\n}\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconPrevious(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 18,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 1 3 9l8 8\",\n    stroke: \"#1D2026\",\n    strokeWidth: 3,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconPrevious);\nexport default __webpack_public_path__ + \"static/media/icon-previous.80616402.svg\";\nexport { ForwardRef as ReactComponent };","export function CharacterPreview({ character }) {\r\n  const { name, image } = character;\r\n  return (\r\n    <article className=\"character-preview flex column align-center\">\r\n      <img src={image} alt={name} />\r\n      <span className=\"name\">{name}</span>\r\n    </article>\r\n  );\r\n}\r\n","import { ReactComponent as IconNext } from '../assets/img/icon-next.svg';\r\nimport { ReactComponent as IconPrev } from '../assets/img/icon-previous.svg';\r\nimport { CharacterPreview } from './CharacterPreview';\r\n\r\nexport function CharacterList({ characters, index, onMove }) {\r\n  const isStartOfList = index === 0;\r\n  const isEndOfList = index === characters.length - 1;\r\n\r\n  return (\r\n    <section className=\"character-list flex align-center\">\r\n      {\r\n        <button className={isStartOfList ? 'disabled' : ''} onClick={() => !isStartOfList && onMove(-1)}>\r\n          <IconPrev />\r\n        </button>\r\n      }\r\n      {characters.slice(index).map(character => (\r\n        <CharacterPreview key={character.id} character={character} />\r\n      ))}\r\n      {\r\n        <button onClick={() => !isEndOfList && onMove(1)}>\r\n          <IconNext />\r\n        </button>\r\n      }\r\n    </section>\r\n  );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { Favorite } from './Favorite';\r\nimport { CharacterList } from './CharacterList';\r\n\r\nexport function FilmDetails({ film, onFilmLike }) {\r\n  const [characterIndex, setCharacterIndex] = useState(0);\r\n  const { title, episode_id, director, producer, characters, opening_crawl, isFavorite } = film;\r\n\r\n  const handleMove = diff => {\r\n    setCharacterIndex(current => current + diff);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCharacterIndex(0);\r\n  }, [film]);\r\n\r\n  return (\r\n    <article className=\"film-details grow\">\r\n      <h2>\r\n        {title} - Episode {episode_id} <Favorite isFavorite={isFavorite} onClick={() => onFilmLike(episode_id)} />\r\n      </h2>\r\n      <h3>\r\n        Director: <span className=\"fw-400\">{director}</span>\r\n      </h3>\r\n      <h3>\r\n        Producer: <span className=\"fw-400\">{producer}</span>\r\n      </h3>\r\n      <h3>Summary:</h3>\r\n      <p className=\"summary\">{opening_crawl}</p>\r\n      <h3>Characters:</h3>\r\n      <CharacterList characters={characters} index={characterIndex} onMove={handleMove} />\r\n    </article>\r\n  );\r\n}\r\n","import ArrowUpwardIcon from '@mui/icons-material/ArrowUpward';\r\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\r\nimport { Button } from '@mui/material';\r\n\r\nexport function FilmListSort({ sort, onSort }) {\r\n  return (\r\n    <section className=\"film-list-sort flex space-between\">\r\n      <SortButton fieldName=\"release_date\" displayName=\"Year\" sort={sort} onSort={onSort} />\r\n      <SortButton fieldName=\"episode_id\" displayName=\"Episode\" sort={sort} onSort={onSort} />\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction SortButton({ fieldName, displayName, sort, onSort }) {\r\n  let icon = <></>;\r\n  if (sort[fieldName] === 1) {\r\n    icon = <ArrowDownwardIcon fontSize=\"small\" />;\r\n  } else if (sort[fieldName] === -1) {\r\n    icon = <ArrowUpwardIcon fontSize=\"small\" />;\r\n  }\r\n  return (\r\n    <Button onClick={() => onSort(fieldName)} color=\"inherit\" endIcon={icon}>\r\n      {displayName}\r\n    </Button>\r\n  );\r\n}\r\n","import { Favorite } from './Favorite';\r\n\r\nexport function FilmPreview({ film, isSelected, onFilmClick, onFilmLike }) {\r\n  const { title, episode_id, release_date, isFavorite } = film;\r\n  return (\r\n    <section\r\n      className={`film-preview flex space-between ${isSelected ? 'selected' : ''}`}\r\n      onClick={() => onFilmClick(episode_id)}>\r\n      <div>\r\n        <h3>{title}</h3>\r\n        <p className=\"subtitle\">\r\n          Episode {episode_id} • {release_date}\r\n        </p>\r\n      </div>\r\n      <Favorite isFavorite={isFavorite} onClick={() => onFilmLike(episode_id)} />\r\n    </section>\r\n  );\r\n}\r\n","import { FilmListSort } from './FilmListSort';\r\nimport { FilmPreview } from './FilmPreview';\r\n\r\nexport function FilmList({ films, selectedFilmId, sort, onFilmClick, onFilmLike, onSearch, onSort }) {\r\n  return (\r\n    <aside className=\"film-list flex column\">\r\n      <input type=\"text\" placeholder=\"Search...\" onChange={onSearch} />\r\n      <FilmListSort sort={sort} onSort={onSort} />\r\n      {films.map(film => (\r\n        <FilmPreview\r\n          key={film.episode_id}\r\n          film={film}\r\n          isSelected={selectedFilmId === film.episode_id}\r\n          onFilmClick={onFilmClick}\r\n          onFilmLike={onFilmLike}\r\n        />\r\n      ))}\r\n    </aside>\r\n  );\r\n}\r\n","import axios from 'axios';\n\nexport const httpService = {\n  get(endpoint, data) {\n    return ajax(endpoint, 'GET', data);\n  },\n  post(endpoint, data) {\n    return ajax(endpoint, 'POST', data);\n  },\n  put(endpoint, data) {\n    return ajax(endpoint, 'PUT', data);\n  },\n  delete(endpoint, data) {\n    return ajax(endpoint, 'DELETE', data);\n  },\n};\n\nasync function ajax(url, method = 'GET', data = null) {\n  try {\n    const res = await axios({\n      url,\n      method,\n      data,\n      params: method === 'GET' ? data : null,\n    });\n    return res.data;\n  } catch (err) {\n    console.error(`httpService error: method ${method}, url: ${url}`);\n    console.dir(err);\n    if (err.response && err.response.status === 401) {\n      sessionStorage.clear();\n      window.location.assign('/');\n    }\n    throw err;\n  }\n}\n","export const storageService = { save, load };\r\n\r\nfunction save(key, data) {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n}\r\n\r\nfunction load(key) {\r\n  const data = localStorage.getItem(key);\r\n  if (data) {\r\n    console.log(`loaded ${key} from cache`);\r\n    return JSON.parse(data);\r\n  }\r\n  return null;\r\n}\r\n","import { httpService } from './http.service';\r\nimport { storageService } from './storage.service';\r\n\r\nexport const filmService = { query, toggleFavorite };\r\nlet gFilms = storageService.load('films');\r\n\r\nasync function query(filter, sort) {\r\n  const regExp = new RegExp(filter.title, 'i');\r\n  const sortKey = Object.keys(sort)[0];\r\n  if (!gFilms) gFilms = await _getData();\r\n  return gFilms.filter(film => regExp.test(film.title)).sort((a, b) => (a[sortKey] - b[sortKey]) * sort[sortKey]);\r\n}\r\n\r\nasync function _getData() {\r\n  try {\r\n    const response = await httpService.get('https://swapi.dev/api/films/?format=json');\r\n    // const response = await httpService.get('https://balblablablablaswapi.dev/api/films/?format=json'); // to simulate error\r\n    let { results: films } = response;\r\n    const charactersMap = await _getCharactersData(films);\r\n    for (const film of films) {\r\n      film.release_date = parseInt(film.release_date.slice(0, 4));\r\n      film.characters = film.characters.map(character => {\r\n        const id = character.split('https://swapi.dev/api/people/')[1].split('/')[0];\r\n        return charactersMap[id];\r\n      });\r\n    }\r\n    storageService.save('films', films);\r\n    return films;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n}\r\n\r\nasync function _getCharactersData() {\r\n  const characters = await httpService.get('https://rawcdn.githack.com/akabab/starwars-api/0.2.1/api/all.json');\r\n  const map = characters.reduce((map, character) => {\r\n    map[character.id] = character;\r\n    return map;\r\n  }, {});\r\n  return map;\r\n}\r\n\r\nfunction toggleFavorite(filmId) {\r\n  for (const film of gFilms) {\r\n    if (film.episode_id === filmId) {\r\n      film.isFavorite = !film.isFavorite;\r\n      break;\r\n    }\r\n  }\r\n  storageService.save('films', gFilms);\r\n  return gFilms;\r\n}\r\n","import { useEffect, useMemo, useState } from 'react';\nimport { AppError } from './cmps/AppError';\nimport { AppLoading } from './cmps/AppLoading';\nimport { FilmDetails } from './cmps/FilmDetails';\nimport { FilmList } from './cmps/FilmList';\nimport { filmService } from './services/film.service';\nimport { storageService } from './services/storage.service';\n\nexport function App() {\n  const selectedIdCache = useMemo(() => storageService.load('selectedFilmId'), []);\n  const [films, setFilms] = useState(null);\n  const [error, setError] = useState(null);\n  const [filter, setFilter] = useState({ title: '' });\n  const [sort, setSort] = useState({ release_date: 1 });\n  const [selectedFilmId, setSelectedFilmId] = useState(selectedIdCache || 4);\n\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        const films = await filmService.query(filter, sort);\n        setFilms(films);\n      } catch (error) {\n        setError('Could not get film data, try to refresh');\n      }\n    };\n    getData();\n  }, [filter, sort]);\n\n  const handleSearch = async ev => {\n    const title = ev.target.value.replace('\\\\', '');\n    setFilter({ title });\n  };\n\n  const handleSort = async fieldName => {\n    setSort(sort => ({ [fieldName]: sort[fieldName] ? sort[fieldName] * -1 : 1 }));\n  };\n\n  const handleFilmClick = id => {\n    setSelectedFilmId(id);\n    storageService.save('selectedFilmId', id);\n  };\n\n  const handleFilmLike = async id => {\n    filmService.toggleFavorite(id);\n    const films = await filmService.query(filter, sort);\n    setFilms(films);\n  };\n\n  if (error) return <AppError error={error} />;\n  if (!films) return <AppLoading />;\n  const selectedFilm = films.find(film => film.episode_id === selectedFilmId);\n  return (\n    <main className=\"app\">\n      {films && (\n        <div className=\"main-container flex\">\n          <FilmList\n            films={films}\n            selectedFilmId={selectedFilmId}\n            sort={sort}\n            onFilmClick={handleFilmClick}\n            onFilmLike={handleFilmLike}\n            onSearch={handleSearch}\n            onSort={handleSort}\n          />\n          {selectedFilm ? (\n            <FilmDetails film={selectedFilm} onFilmLike={handleFilmLike} />\n          ) : (\n            <div className=\"film-details\" />\n          )}\n        </div>\n      )}\n    </main>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport './assets/styles/main.scss';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}